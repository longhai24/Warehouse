<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="UTF-8"/>
<title>新增会员</title>

</head>

<body>
	<!-- enctype="multipart/form-data" -->
	<form  id="personForm"
		action="/springmvc_2/person/add" method="post">
		姓名:<input type="text" name="pname" /> <br /> 
		性别:<input type="radio"
			name="psex" value="0" checked="checked" />男 <input type="radio"
			name="psex" value="1" />女 <br /> 
		生日:<input type="date" name="pdate" /><br />
		靓照:<input type="file" name="imgFile" /><br /> 
		<input type="submit"
			value="保存" />&nbsp;&nbsp;
		<input type="reset" value="重置" /> <br />
	</form>
</body>
<script type="text/javascript" src="/springmvc_2/js/jquery-1.12.4.js"></script>
<script type="text/javascript">
	var flag;

	$("input[name='imgFile']").on("change", function(e) {
		var file = this.files[0];//获得文件对象
		var _temp = file.name.match(/\.jpg|\.png|\.gif|\.bmp/i);
		if (!_temp) {
			flag = false;
			this.value = "";
			alert("目前只支持jpg,png,bmp,gif格式图片文件");
			return false;
		} else if (file.size > (1024 * 1024)) {
			flag = false;
			this.value = "";
			alert("目前只支持小于1M大小图片文件");
			return false;
		}
		flag=true;
		return true;
	});

	$("#personForm").submit(function() {
		if (!flag) {
			alert("文件格式或大小不匹配！");
			return false;
		}
		return true;
	});
</script>
</html>